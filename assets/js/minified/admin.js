"use strict";(function(wp,$){"use strict";if(!wp){return}var __=wp.i18n.__;var admin={cache:function cache(){this.els={};this.els.$startDate=$("[name=\"woo_store_vacation_options[start_date]\"]");this.els.$endDate=$("[name=\"woo_store_vacation_options[end_date]\"]")},init:function init(){this.cache();this.datePickers()},datePickers:function datePickers(){this.addDeleteButtonDatepicker();this.els.$startDate.datepicker({changeMonth:true,showButtonPanel:true,dateFormat:"yy-mm-dd",beforeShow:function beforeShow(){if(!admin.els.$endDate.val()){return}var maxDate=new Date(Date.parse(admin.els.$endDate.val()));maxDate.setDate(maxDate.getDate()-1);if(maxDate){$(this).datepicker("option","maxDate",maxDate)}},onClose:function onClose(selectedDate){var minDate=new Date(Date.parse(selectedDate));minDate.setDate(minDate.getDate()+1);admin.els.$endDate.datepicker("option","minDate",minDate)}});this.els.$endDate.datepicker({minDate:"+1D",changeMonth:true,showButtonPanel:true,dateFormat:"yy-mm-dd",beforeShow:function beforeShow(){if(!admin.els.$startDate.val()){return}var minDate=new Date(Date.parse(admin.els.$startDate.val()));minDate.setDate(minDate.getDate()+1);if(minDate){$(this).datepicker("option","minDate",minDate)}},onClose:function onClose(selectedDate){var maxDate=new Date(Date.parse(selectedDate));maxDate.setDate(maxDate.getDate()-1);admin.els.$startDate.datepicker("option","maxDate",maxDate)}});var oldGoToToday=$.datepicker._gotoToday;$.datepicker._gotoToday=function(id){oldGoToToday.call(this,id);this._selectDate(id)}},addDeleteButtonDatepicker:function addDeleteButtonDatepicker(){var oldFn=$.datepicker._updateDatepicker;$.datepicker._updateDatepicker=function(inst){oldFn.call(this,inst);var buttonPane=$(this).datepicker("widget").find(".ui-datepicker-buttonpane");$("<button type=\"button\" class=\"ui-datepicker-clean ui-state-default ui-priority-primary ui-corner-all\">\n\t\t\t\t\t\t".concat(__("Delete","woo-store-vacation"),"\n\t\t\t\t\t</button>")).appendTo(buttonPane).on("click",function(){$.datepicker._clearDate(inst.input)})}}};admin.init()})(window.wp,jQuery);